function readSingleFile(e){try{var t=e.target.files[0];if(filenameSave=e.target.files[0].name,!t)return;var n=filenameSave.split(".")[filenameSave.split(".").length-1].toLowerCase();if("sav"!=n)throw"notSav."+n;var d=new FileReader;d.onload=function(e){var t=e.target.result;displayContents(t)},d.readAsText(t)}catch(e){"notSav"==e.split(".")[0]?(alert("[Error] You didn't provide a .sav file\nBut instead a ."+e.split(".")[1]+" file"),console.log("[Error] You didn't provide a .sav file\nBut instead a ."+e.split(".")[1]+" file")):(alert("[Error] "+e),console.log("[Error] "+e))}}function createOption(e,t,n,d=!1,a=null,c="check",o=0){"check"==c?e.insertAdjacentHTML("beforeend",`\n        <tr>\n            <td ${null!=a&&`title="${a}"`}>${n}</td>\n            <td><input type="checkbox" ${d?"checked":""} id="${t}"></td>\n        </tr>`):"number"==c&&e.insertAdjacentHTML("beforeend",`\n        <tr>\n            <td ${null!=a&&`title="${a}"`}>${n}</td>\n            <td><input type="number" value="${o}" id="${t}"></td>\n        </tr>`)}function displayContents(e){try{var t=document.getElementById("file-content");t.textContent=JSON.stringify(JSON.parse(e),null,"\t");var n=JSON.parse(e);savebefore.push(n),document.querySelectorAll("input[type=checkbox]").forEach(e=>e.checked=!1);var d=document.getElementById("Basics");try{for(;"TABLE"==d.lastElementChild.tagName;)d.removeChild(d.lastElementChild)}catch{}document.getElementById("NoOptions").style.display="none";const m=document.createElement("table");m.align="center",m.id="General",m.insertAdjacentHTML("beforeend",'<col width="300px"><tr><th colspan="2">Основное</th></tr>');const u=document.createElement("table");u.align="center",u.id="Active",u.insertAdjacentHTML("beforeend",'<col width="300px"><tr><th colspan="2">Активности</th></tr>');const p=document.createElement("table");p.align="center",p.id="Tooltip",p.insertAdjacentHTML("beforeend",'<col width="300px"><tr><th colspan="2">Подсказки</th></tr>');const r=document.createElement("table");r.align="center",r.id="Filter",r.insertAdjacentHTML("beforeend",'<col width="300px"><tr><th colspan="2">Подсказки</th></tr>');const s=document.createElement("table");for(var a in s.align="center",s.id="HZ",s.insertAdjacentHTML("beforeend",'<col width="300px"><tr><th colspan="2">Не известно</th></tr>'),n)"curseCharmPuzzleOrder"!=a&&"usedChessBossZones"!=a&&"loadouts"!=a&&"inventories"!=a&&"coinManager"!=a&&"mapDataManager"!=a&&"levelDataManager"!=a&&"statictics"!=a&&"dialoguerState"!=a&&("isPlayer1Mugman"==a?createOption(m,a,"Ваш персонаж Mugman?",n[a],"В качестве основного персонажа будет Mugman"):"_isTutorialCompleted"==a?createOption(m,a,"Обучение пройдено?",n[a]):"_isFlyingTutorialCompleted"==a?createOption(m,a,"Обучение полетам пройдено?",n[a]):"_isChaliceTutorialCompleted"==a?createOption(m,a,"Обучение Чаши пройдено?",n[a]):"hasUnlockedBoatman"==a?createOption(m,a,"Разблокирован ли Лодочник?",n[a],"Перемещает вас на чернильный остров четыре с 3-х основных островов"):"_isHardModeAvailable"==a?createOption(m,a,"Доступен ли режим эксперта?",n[a]):"hasMadeFirstPurchase"==a?createOption(u,a,"Сделали первую покупку?",n[a],"Купите что-нибуть у Поркринда"):"hasBeatenAnyBossOnEasy"==a?createOption(u,a,"Победили любого босса на легкой сложности?",n[a],"Вы сможете и на экстриме"):"hasUnlockedFirstSuper"==a?createOption(u,a,"Победили любого босса на легкой сложности в DLC?",n[a],"Вы сможете и на экстриме"):"hasBeatenAnyDLCBossOnEasy"==a?createOption(u,a,"Разблокирована ли первая спецатака?",n[a],"Спецатака выдается после прохождения мавзолея"):"hasTalkedToChaliceFan"==a?createOption(u,a,"Поговорили с фанаткой Чаши?",n[a],"Это кактус, которая появляется на пляже чернильного острова четыре. В нагладу выдает скин золотой чаши"):"shouldShowShopkeepTooltip"==a?createOption(p,a,"Появится ли всплывающая подсказка Поркринда?",n[a]):"shouldShowTurtleTooltip"==a?createOption(p,a,"Появится ли всплывающая подсказка Талли?",n[a],"Персонаж выдающий черно-белый фильтр"):"shouldShowCanteenTooltip"==a?createOption(p,a,"Появится ли всплывающая подсказка Фляги Хьюза?",n[a],"Персонаж выдающий мини-бомбы для самолета"):"shouldShowForkTooltip"==a?createOption(p,a,"Появится ли всплывающая подсказка Сильверворта?",n[a],"Персонаж выдающий 2-тональный фильтр"):"shouldShowKineDiceTooltip"==a?createOption(p,a,"Появится ли всплывающая подсказка King Dice?",n[a],"Если вы проходили боссов на легкой сложности"):"shouldShowMausoleumTooltip"==a?createOption(p,a,"Появится ли всплывающая подсказка мавзолея?",n[a],"После прохождения мавзолея подсказка об использовании суператак"):"shouldShowBoatmanTooltip"==a?createOption(p,a,"Появится ли всплывающая подсказка Лодочника?",n[a]):"shouldShowChaliceTooltip"==a?createOption(p,a,"Появится ли всплывающая подсказка Чаши?",n[a],"По прибытию на чернильный остров четыре"):"vintageAudioEnabled"==a?createOption(r,a,"Включить винтажный звук?",n[a]):"pianoAudioEnabled"==a?createOption(r,a,"Включить звук фортепиано?",n[a]):"filter"==a?r.insertAdjacentHTML("beforeend",`\n                    <tr>\n                        <td>Включенный фильтр</td>\n                        <td>\n                            <select id="filter">\n                                <option ${0==n[a]&&"selected"} value="0">Ничего</option>\n                                <option ${1==n[a]&&"selected"} value="1">2-тональный</option>\n                                <option ${2==n[a]&&"selected"} value="2">Черно-белый</option>\n                                <option ${3==n[a]&&"selected"} value="3">(D) Чаша</option>\n                            </select>\n                        </td>\n                    </tr>`):"unlockedBlackAndWhite"==a?createOption(r,a,"Разблокирован черно-белый?",n[a]):"unlocked2Strip"==a?createOption(r,a,"Разблокирован 2-тональный?",n[a]):"_isHardModeAvailableDLC"==a?createOption(m,a,"Доступен ли режим эксперта в DLC?",n[a]):"unlockedChaliceRecolor"==a?createOption(r,a,"Разблокирован фильтр Чаша?",n[a]):Number.isInteger(n[a])?createOption(s,a,a,!1,null,"number",n[a]):createOption(s,a,a,n[a]));document.getElementById("Basics").appendChild(m),document.getElementById("Basics").appendChild(u),document.getElementById("Basics").appendChild(p),document.getElementById("Basics").appendChild(r),document.getElementById("Basics").appendChild(s),document.getElementById("NoInventories").style.display="none",document.getElementById("Player1").style.display="","primaryWeapon"in n.loadouts.playerOne&&(document.getElementById("primaryWeapon1").value=n.loadouts.playerOne.primaryWeapon.toString()),"secondaryWeapon"in n.loadouts.playerOne&&(document.getElementById("secondaryWeapon1").value=n.loadouts.playerOne.secondaryWeapon.toString()),"super"in n.loadouts.playerOne&&(document.getElementById("super1").value=n.loadouts.playerOne.super.toString()),"charm"in n.loadouts.playerOne&&(document.getElementById("charm1").value=n.loadouts.playerOne.charm.toString()),"numDeaths"in n.statictics.playerOne&&(document.getElementById("deaths1").value=n.statictics.playerOne.numDeaths.toString()),"numParriesInRow"in n.statictics.playerOne&&(document.getElementById("parries1").value=n.statictics.playerOne.numParriesInRow.toString()),"money"in n.inventories.playerOne&&(document.getElementById("money1").value=n.inventories.playerOne.money.toString()),"newPurchase"in n.inventories.playerOne&&(document.getElementById("newPurchase1").checked=n.inventories.playerOne.newPurchase),n.inventories.playerOne._weapons.forEach(e=>{e==document.getElementById("1weapon1").value?document.getElementById("1weapon1").checked=!0:e==document.getElementById("1weapon2").value?document.getElementById("1weapon2").checked=!0:e==document.getElementById("1weapon3").value?document.getElementById("1weapon3").checked=!0:e==document.getElementById("1weapon4").value?document.getElementById("1weapon4").checked=!0:e==document.getElementById("1weapon5").value?document.getElementById("1weapon5").checked=!0:e==document.getElementById("1weapon6").value?document.getElementById("1weapon6").checked=!0:e==document.getElementById("1weapon7").value?document.getElementById("1weapon7").checked=!0:e==document.getElementById("1weapon8").value?document.getElementById("1weapon8").checked=!0:e==document.getElementById("1weapon9").value?document.getElementById("1weapon9").checked=!0:e==document.getElementById("1weapon10").value?document.getElementById("1weapon10").checked=!0:e==document.getElementById("1weapon11").value?document.getElementById("1weapon11").checked=!0:e==document.getElementById("1weapon12").value?document.getElementById("1weapon12").checked=!0:e==document.getElementById("1weapon13").value?document.getElementById("1weapon13").checked=!0:e==document.getElementById("1weapon14").value?document.getElementById("1weapon14").checked=!0:e==document.getElementById("1weapon15").value?document.getElementById("1weapon15").checked=!0:e==document.getElementById("1weapon16").value?document.getElementById("1weapon16").checked=!0:e==document.getElementById("1weapon17").value?document.getElementById("1weapon17").checked=!0:e==document.getElementById("1weapon18").value?document.getElementById("1weapon18").checked=!0:e==document.getElementById("1weapon19").value?document.getElementById("1weapon19").checked=!0:e==document.getElementById("1weapon20").value?document.getElementById("1weapon20").checked=!0:e==document.getElementById("1weapon21").value?document.getElementById("1weapon21").checked=!0:e==document.getElementById("1weapon22").value?document.getElementById("1weapon22").checked=!0:e==document.getElementById("1weapon23").value&&(document.getElementById("1weapon23").checked=!0)}),n.inventories.playerOne._supers.forEach(e=>{e==document.getElementById("1super1").value?document.getElementById("1super1").checked=!0:e==document.getElementById("1super2").value?document.getElementById("1super2").checked=!0:e==document.getElementById("1super3").value?document.getElementById("1super3").checked=!0:e==document.getElementById("1super4").value?document.getElementById("1super4").checked=!0:e==document.getElementById("1super5").value?document.getElementById("1super5").checked=!0:e==document.getElementById("1super6").value?document.getElementById("1super6").checked=!0:e==document.getElementById("1super7").value?document.getElementById("1super7").checked=!0:e==document.getElementById("1super8").value?document.getElementById("1super8").checked=!0:e==document.getElementById("1super9").value&&(document.getElementById("1super9").checked=!0)}),n.inventories.playerOne._charms.forEach(e=>{e==document.getElementById("1charm1").value?document.getElementById("1charm1").checked=!0:e==document.getElementById("1charm2").value?document.getElementById("1charm2").checked=!0:e==document.getElementById("1charm3").value?document.getElementById("1charm3").checked=!0:e==document.getElementById("1charm4").value?document.getElementById("1charm4").checked=!0:e==document.getElementById("1charm5").value?document.getElementById("1charm5").checked=!0:e==document.getElementById("1charm6").value?document.getElementById("1charm6").checked=!0:e==document.getElementById("1charm7").value?document.getElementById("1charm7").checked=!0:e==document.getElementById("1charm8").value?document.getElementById("1charm8").checked=!0:e==document.getElementById("1charm9").value?document.getElementById("1charm9").checked=!0:e==document.getElementById("1charm10").value?document.getElementById("1charm10").checked=!0:e==document.getElementById("1charm11").value?document.getElementById("1charm11").checked=!0:e==document.getElementById("1charm12").value?document.getElementById("1charm12").checked=!0:e==document.getElementById("1charm13").value&&(document.getElementById("1charm13").checked=!0)}),document.getElementById("Player2").style.display="","primaryWeapon"in n.loadouts.playerTwo&&(document.getElementById("primaryWeapon2").value=n.loadouts.playerTwo.primaryWeapon.toString()),"secondaryWeapon"in n.loadouts.playerTwo&&(document.getElementById("secondaryWeapon2").value=n.loadouts.playerTwo.secondaryWeapon.toString()),"super"in n.loadouts.playerTwo&&(document.getElementById("super2").value=n.loadouts.playerTwo.super.toString()),"charm"in n.loadouts.playerTwo&&(document.getElementById("charm2").value=n.loadouts.playerTwo.charm.toString()),"numDeaths"in n.statictics.playerTwo&&(document.getElementById("deaths2").value=n.statictics.playerTwo.numDeaths.toString()),"numParriesInRow"in n.statictics.playerTwo&&(document.getElementById("parries2").value=n.statictics.playerTwo.numParriesInRow.toString()),"money"in n.inventories.playerTwo&&(document.getElementById("money2").value=n.inventories.playerTwo.money.toString()),"newPurchase"in n.inventories.playerTwo&&(document.getElementById("newPurchase2").value=n.inventories.playerTwo.newPurchase.toString()),n.inventories.playerTwo._weapons.forEach(e=>{e==document.getElementById("2weapon1").value?document.getElementById("2weapon1").checked=!0:e==document.getElementById("2weapon2").value?document.getElementById("2weapon2").checked=!0:e==document.getElementById("2weapon3").value?document.getElementById("2weapon3").checked=!0:e==document.getElementById("2weapon4").value?document.getElementById("2weapon4").checked=!0:e==document.getElementById("2weapon5").value?document.getElementById("2weapon5").checked=!0:e==document.getElementById("2weapon6").value?document.getElementById("2weapon6").checked=!0:e==document.getElementById("2weapon7").value?document.getElementById("2weapon7").checked=!0:e==document.getElementById("2weapon8").value?document.getElementById("2weapon8").checked=!0:e==document.getElementById("2weapon9").value?document.getElementById("2weapon9").checked=!0:e==document.getElementById("2weapon10").value?document.getElementById("2weapon10").checked=!0:e==document.getElementById("2weapon11").value?document.getElementById("2weapon11").checked=!0:e==document.getElementById("2weapon12").value?document.getElementById("2weapon12").checked=!0:e==document.getElementById("2weapon13").value?document.getElementById("2weapon13").checked=!0:e==document.getElementById("2weapon14").value?document.getElementById("2weapon14").checked=!0:e==document.getElementById("2weapon15").value?document.getElementById("2weapon15").checked=!0:e==document.getElementById("2weapon16").value?document.getElementById("2weapon16").checked=!0:e==document.getElementById("2weapon17").value?document.getElementById("2weapon17").checked=!0:e==document.getElementById("2weapon18").value?document.getElementById("2weapon18").checked=!0:e==document.getElementById("2weapon19").value?document.getElementById("2weapon19").checked=!0:e==document.getElementById("2weapon20").value?document.getElementById("2weapon20").checked=!0:e==document.getElementById("2weapon21").value?document.getElementById("2weapon21").checked=!0:e==document.getElementById("2weapon22").value?document.getElementById("2weapon22").checked=!0:e==document.getElementById("2weapon23").value&&(document.getElementById("2weapon23").checked=!0)}),n.inventories.playerTwo._supers.forEach(e=>{e==document.getElementById("2super1").value?document.getElementById("2super1").checked=!0:e==document.getElementById("2super2").value?document.getElementById("2super2").checked=!0:e==document.getElementById("2super3").value?document.getElementById("2super3").checked=!0:e==document.getElementById("2super4").value?document.getElementById("2super4").checked=!0:e==document.getElementById("2super5").value?document.getElementById("2super5").checked=!0:e==document.getElementById("2super6").value?document.getElementById("2super6").checked=!0:e==document.getElementById("2super7").value?document.getElementById("2super7").checked=!0:e==document.getElementById("2super8").value?document.getElementById("2super8").checked=!0:e==document.getElementById("2super9").value&&(document.getElementById("2super9").checked=!0)}),n.inventories.playerTwo._charms.forEach(e=>{e==document.getElementById("2charm1").value?document.getElementById("2charm1").checked=!0:e==document.getElementById("2charm2").value?document.getElementById("2charm2").checked=!0:e==document.getElementById("2charm3").value?document.getElementById("2charm3").checked=!0:e==document.getElementById("2charm4").value?document.getElementById("2charm4").checked=!0:e==document.getElementById("2charm5").value?document.getElementById("2charm5").checked=!0:e==document.getElementById("2charm6").value?document.getElementById("2charm6").checked=!0:e==document.getElementById("2charm7").value?document.getElementById("2charm7").checked=!0:e==document.getElementById("2charm8").value?document.getElementById("2charm8").checked=!0:e==document.getElementById("2charm9").value?document.getElementById("2charm9").checked=!0:e==document.getElementById("2charm10").value?document.getElementById("2charm10").checked=!0:e==document.getElementById("2charm11").value?document.getElementById("2charm11").checked=!0:e==document.getElementById("2charm12").value?document.getElementById("2charm12").checked=!0:e==document.getElementById("2charm13").value&&(document.getElementById("2charm13").checked=!0)});var c=document.getElementById("Levels");try{for(;"TABLE"==c.lastElementChild.tagName;)c.removeChild(c.lastElementChild)}catch{}document.getElementById("NoLevels").style.display="none",n.levelDataManager.levelObjects.forEach(e=>{const t=document.createElement("table");t.align="center",t.id="Level",t.innerHTML=`\n            <tr>\n                <th colspan="2">${levels[e.levelID]?levels[e.levelID]:e.levelID}</th>\n            </tr>\n            <tr>\n                <td>Сыгран?</td>\n                <td><input type="checkbox" ${e.played&&"checked"} id="${e.levelID}played"></td>\n            </tr>\n            <tr>\n                <td>Пройден?</td>\n                <td><input type="checkbox" ${e.completed&&"checked"} id="${e.levelID}completed"></td>\n            </tr>\n            ${"completedAsChaliceP1"in e?`\n            <tr>\n                <td title="Первый игрок">Пройден за Чашу? (P1)</td>\n                <td><input type="checkbox" ${e.completedAsChaliceP1&&"checked"} id="${e.levelID}completedAsChaliceP1"></td>\n            </tr>`:""}\n            ${"completedAsChaliceP2"in e?`\n            <tr>\n                <td title="Второй игрок">Пройден за Чашу? (P2)</td>\n                <td><input type="checkbox" ${e.completedAsChaliceP2&&"checked"} id="${e.levelID}completedAsChaliceP2"></td>\n            </tr>`:""}\n            ${"curseCharmP1"in e?`\n            <tr>\n                <td title="Первый игрок">Пройден с Чудным кулоном? (P1)</td>\n                <td><input type="checkbox" ${e.curseCharmP1&&"checked"} id="${e.levelID}curseCharmP1"></td>\n            </tr>`:""}\n            ${"curseCharmP2"in e?`\n            <tr>\n                <td title="Второй игрок">Пройден с Чудным кулоном? (P2)</td>\n                <td><input type="checkbox" ${e.curseCharmP2&&"checked"} id="${e.levelID}curseCharmP2"></td>\n            </tr>`:""}\n            <tr>\n                <td>Ранг</td>\n                <td>\n                    <select id="${e.levelID}grade">\n                        <option ${0==e.grade&&"selected"} value="0">Не сыгран / D-</option>\n                        <option ${1==e.grade&&"selected"} value="1">D</option>\n                        <option ${2==e.grade&&"selected"} value="2">D+</option>\n                        <option ${3==e.grade&&"selected"} value="3">C-</option>\n                        <option ${4==e.grade&&"selected"} value="4">C</option>\n                        <option ${5==e.grade&&"selected"} value="5">C+</option>\n                        <option ${6==e.grade&&"selected"} value="6">B-</option>\n                        <option ${7==e.grade&&"selected"} value="7">B</option>\n                        <option ${8==e.grade&&"selected"} value="8">B+-</option>\n                        <option ${9==e.grade&&"selected"} value="9">A-</option>\n                        <option ${10==e.grade&&"selected"} value="10">A</option>\n                        <option ${11==e.grade&&"selected"} value="11">A+</option>\n                        <option ${12==e.grade&&"selected"} value="12">S</option>\n                        <option ${13==e.grade&&"selected"} value="13">P</option>\n                    </select>\n                </td>\n            </tr>\n            <tr>\n                <td>Сложность</td>\n                <td>\n                    <select id="${e.levelID}diff">\n                        <option ${0==e.difficultyBeaten&&"selected"} value="0">Легкая</option>\n                        <option ${1==e.difficultyBeaten&&"selected"} value="1">Обычная</option>\n                        <option ${2==e.difficultyBeaten&&"selected"} value="2">Эксперт</option>\n                    </select>\n                </td>\n            </tr>\n            <tr>\n                <td title="В секундах">Время</td>\n                <td><input type="number" id="${e.levelID}time" value="${"3.4028234663852886e+38"==e.bestTime?0:e.bestTime}"></td>\n            </tr>\n            <tr>\n                <td title="До 5 монет">Монет</td>\n                <td><input type="range" id="${e.levelID}money" list="money" min="0" max="5" value="0"></td>\n            </tr>`,document.getElementById("Levels").appendChild(t)}),n.coinManager.LevelsAndCoins.forEach(e=>{if(1==e.Coin5Collected)var t="5";else if(1==e.Coin4Collected)t="4";else if(1==e.Coin3Collected)t="3";else if(1==e.Coin2Collected)t="2";else if(1==e.Coin1Collected)t="1";else t="0";document.getElementById(`${e.level}money`).value=t});var o=document.getElementById("currentMap");try{for(;"OPTION"==o.lastElementChild.tagName;)o.removeChild(o.lastElementChild)}catch{}var l=document.getElementById("Maps");try{for(;"TABLE"==l.lastElementChild.tagName;)l.removeChild(l.lastElementChild)}catch{}document.getElementById("NoMaps").style.display="none",document.getElementById("tablecurrentMap").style.display="block",n.mapDataManager.mapData.forEach(e=>{document.getElementById("currentMap").insertAdjacentHTML("beforeend",`<option value="${e.mapId}">${maps[e.mapId]?maps[e.mapId]:e.mapId}</option>`);const t=document.createElement("table");t.align="center",t.id="Map",t.innerHTML=`\n            <tr>\n                <th colspan="3">${maps[e.mapId]?maps[e.mapId]:e.mapId}</th>\n            </tr>\n            <tr>\n                <td colspan="2">Остров посещен?</td>\n                <td><input type="checkbox" ${e.sessionStarted&&"checked"} id="${e.mapId}sessionStarted"></td>\n            </tr>\n            <tr>\n                <td colspan="2">Смертельный дом посещен?</td>\n                <td><input type="checkbox" ${e.hasVisitedDieHouse&&"checked"} id="${e.mapId}hasVisitedDieHouse"></td>\n            </tr>\n            <tr>\n                <td colspan="2">Кинг Дайс исчез?</td>\n                <td><input type="checkbox" ${e.hasKingDiceDisappeared&&"checked"} id="${e.mapId}hasKingDiceDisappeared"></td>\n            </tr>\n            <tr>\n                <td></td>\n                <th>Игрок 1</th>\n                <th>Игрок 2</th>\n            </tr>\n            <tr>\n                <td>X</td>\n                <td><input type="number" id="${e.mapId}playerOnePositionX" value="${e.playerOnePosition.x}"></td>\n                <td><input type="number" id="${e.mapId}playerTwoPositionX" value="${e.playerTwoPosition.x}"></td>\n            </tr>\n            <tr>\n                <td>Y</td>\n                <td><input type="number" id="${e.mapId}playerOnePositionY" value="${e.playerOnePosition.y}"></td>\n                <td><input type="number" id="${e.mapId}playerTwoPositionY" value="${e.playerTwoPosition.y}"></td>\n            </tr>\n            <tr>\n                <td>Z</td>\n                <td><input type="number" id="${e.mapId}playerOnePositionZ" value="${e.playerOnePosition.z}"></td>\n                <td><input type="number" id="${e.mapId}playerTwoPositionZ" value="${e.playerTwoPosition.z}"></td>\n            </tr>`,document.getElementById("Maps").appendChild(t)}),document.getElementById("currentMap").value=n.mapDataManager.currentMap.toString(),document.getElementById("savebtn").disabled=!1}catch(e){alert("[Error] "+e),console.log("[Error] "+e)}}function download(){try{for(var e in savedat=savebefore[0],savebefore[0])"curseCharmPuzzleOrder"!=e&&"usedChessBossZones"!=e&&"loadouts"!=e&&"inventories"!=e&&"coinManager"!=e&&"mapDataManager"!=e&&"levelDataManager"!=e&&"statictics"!=e&&"dialoguerState"!=e&&(Number.isInteger(savebefore[0][e])?savedat[e]=parseInt(document.getElementById(e).value):savedat[e]=document.getElementById(e).checked);savedat.loadouts.playerOne.primaryWeapon=parseInt(document.getElementById("primaryWeapon1").value),savedat.loadouts.playerOne.secondaryWeapon=parseInt(document.getElementById("secondaryWeapon1").value),savedat.loadouts.playerOne.super=parseInt(document.getElementById("super1").value),savedat.loadouts.playerOne.charm=parseInt(document.getElementById("charm1").value),savedat.statictics.playerOne.numDeaths=parseInt(document.getElementById("deaths1").value),savedat.statictics.playerOne.numParriesInRow=parseInt(document.getElementById("parries1").value),savedat.inventories.playerOne.money=parseInt(document.getElementById("money1").value),savedat.inventories.playerOne.newPurchase=parseInt(document.getElementById("newPurchase1").value),savedat.loadouts.playerTwo.primaryWeapon=parseInt(document.getElementById("primaryWeapon2").value),savedat.loadouts.playerTwo.secondaryWeapon=parseInt(document.getElementById("secondaryWeapon2").value),savedat.loadouts.playerTwo.super=parseInt(document.getElementById("super2").value),savedat.loadouts.playerTwo.charm=parseInt(document.getElementById("charm2").value),savedat.statictics.playerTwo.numDeaths=parseInt(document.getElementById("deaths2").value),savedat.statictics.playerTwo.numParriesInRow=parseInt(document.getElementById("parries2").value),savedat.inventories.playerTwo.money=parseInt(document.getElementById("money2").value),savedat.inventories.playerTwo.newPurchase=parseInt(document.getElementById("newPurchase2").value);var t=[1457006169],n=[],d=[];document.getElementById("1weapon1").checked&&t.push(parseInt(document.getElementById("1weapon1").value)),document.getElementById("1weapon2").checked&&t.push(parseInt(document.getElementById("1weapon2").value)),document.getElementById("1weapon3").checked&&t.push(parseInt(document.getElementById("1weapon3").value)),document.getElementById("1weapon4").checked&&t.push(parseInt(document.getElementById("1weapon4").value)),document.getElementById("1weapon5").checked&&t.push(parseInt(document.getElementById("1weapon5").value)),document.getElementById("1weapon6").checked&&t.push(parseInt(document.getElementById("1weapon6").value)),document.getElementById("1weapon7").checked&&t.push(parseInt(document.getElementById("1weapon7").value)),document.getElementById("1weapon8").checked&&t.push(parseInt(document.getElementById("1weapon8").value)),document.getElementById("1weapon9").checked&&t.push(parseInt(document.getElementById("1weapon9").value)),document.getElementById("1weapon10").checked&&t.push(parseInt(document.getElementById("1weapon10").value)),document.getElementById("1weapon11").checked&&t.push(parseInt(document.getElementById("1weapon11").value)),document.getElementById("1weapon12").checked&&t.push(parseInt(document.getElementById("1weapon12").value)),document.getElementById("1weapon13").checked&&t.push(parseInt(document.getElementById("1weapon13").value)),document.getElementById("1weapon14").checked&&t.push(parseInt(document.getElementById("1weapon14").value)),document.getElementById("1weapon15").checked&&t.push(parseInt(document.getElementById("1weapon15").value)),document.getElementById("1weapon16").checked&&t.push(parseInt(document.getElementById("1weapon16").value)),document.getElementById("1weapon17").checked&&t.push(parseInt(document.getElementById("1weapon17").value)),document.getElementById("1weapon18").checked&&t.push(parseInt(document.getElementById("1weapon18").value)),document.getElementById("1weapon19").checked&&t.push(parseInt(document.getElementById("1weapon19").value)),document.getElementById("1weapon20").checked&&t.push(parseInt(document.getElementById("1weapon20").value)),document.getElementById("1weapon21").checked&&t.push(parseInt(document.getElementById("1weapon21").value)),document.getElementById("1weapon22").checked&&t.push(parseInt(document.getElementById("1weapon22").value)),document.getElementById("1weapon23").checked&&t.push(parseInt(document.getElementById("1weapon23").value)),document.getElementById("1super1").checked&&n.push(parseInt(document.getElementById("1super1").value)),document.getElementById("1super2").checked&&n.push(parseInt(document.getElementById("1super2").value)),document.getElementById("1super3").checked&&n.push(parseInt(document.getElementById("1super3").value)),document.getElementById("1super4").checked&&n.push(parseInt(document.getElementById("1super4").value)),document.getElementById("1super5").checked&&n.push(parseInt(document.getElementById("1super5").value)),document.getElementById("1super6").checked&&n.push(parseInt(document.getElementById("1super6").value)),document.getElementById("1super7").checked&&n.push(parseInt(document.getElementById("1super7").value)),document.getElementById("1super8").checked&&n.push(parseInt(document.getElementById("1super8").value)),document.getElementById("1super9").checked&&n.push(parseInt(document.getElementById("1super9").value)),document.getElementById("1charm1").checked&&d.push(parseInt(document.getElementById("1charm1").value)),document.getElementById("1charm2").checked&&d.push(parseInt(document.getElementById("1charm2").value)),document.getElementById("1charm3").checked&&d.push(parseInt(document.getElementById("1charm3").value)),document.getElementById("1charm4").checked&&d.push(parseInt(document.getElementById("1charm4").value)),document.getElementById("1charm5").checked&&d.push(parseInt(document.getElementById("1charm5").value)),document.getElementById("1charm6").checked&&d.push(parseInt(document.getElementById("1charm6").value)),document.getElementById("1charm7").checked&&d.push(parseInt(document.getElementById("1charm7").value)),document.getElementById("1charm8").checked&&d.push(parseInt(document.getElementById("1charm8").value)),document.getElementById("1charm9").checked&&d.push(parseInt(document.getElementById("1charm9").value)),document.getElementById("1charm10").checked&&d.push(parseInt(document.getElementById("1charm10").value)),document.getElementById("1charm11").checked&&d.push(parseInt(document.getElementById("1charm11").value)),document.getElementById("1charm12").checked&&d.push(parseInt(document.getElementById("1charm12").value)),document.getElementById("1charm13").checked&&d.push(parseInt(document.getElementById("1charm13").value));var a=[1457006169],c=[],o=[];document.getElementById("2weapon1").checked&&a.push(parseInt(document.getElementById("2weapon1").value)),document.getElementById("2weapon2").checked&&a.push(parseInt(document.getElementById("2weapon2").value)),document.getElementById("2weapon3").checked&&a.push(parseInt(document.getElementById("2weapon3").value)),document.getElementById("2weapon4").checked&&a.push(parseInt(document.getElementById("2weapon4").value)),document.getElementById("2weapon5").checked&&a.push(parseInt(document.getElementById("2weapon5").value)),document.getElementById("2weapon6").checked&&a.push(parseInt(document.getElementById("2weapon6").value)),document.getElementById("2weapon7").checked&&a.push(parseInt(document.getElementById("2weapon7").value)),document.getElementById("2weapon8").checked&&a.push(parseInt(document.getElementById("2weapon8").value)),document.getElementById("2weapon9").checked&&a.push(parseInt(document.getElementById("2weapon9").value)),document.getElementById("2weapon11").checked&&a.push(parseInt(document.getElementById("2weapon11").value)),document.getElementById("2weapon12").checked&&t.push(parseInt(document.getElementById("2weapon12").value)),
document.getElementById("2weapon13").checked&&t.push(parseInt(document.getElementById("2weapon13").value)),document.getElementById("2weapon14").checked&&t.push(parseInt(document.getElementById("2weapon14").value)),document.getElementById("2weapon15").checked&&t.push(parseInt(document.getElementById("2weapon15").value)),document.getElementById("2weapon16").checked&&t.push(parseInt(document.getElementById("2weapon16").value)),document.getElementById("2weapon17").checked&&t.push(parseInt(document.getElementById("2weapon17").value)),document.getElementById("2weapon18").checked&&t.push(parseInt(document.getElementById("2weapon18").value)),document.getElementById("2weapon19").checked&&t.push(parseInt(document.getElementById("2weapon19").value)),document.getElementById("2weapon20").checked&&t.push(parseInt(document.getElementById("2weapon20").value)),document.getElementById("2weapon21").checked&&t.push(parseInt(document.getElementById("2weapon21").value)),document.getElementById("2weapon22").checked&&t.push(parseInt(document.getElementById("2weapon22").value)),document.getElementById("2weapon23").checked&&t.push(parseInt(document.getElementById("2weapon23").value)),document.getElementById("2super1").checked&&c.push(parseInt(document.getElementById("2super1").value)),document.getElementById("2super2").checked&&c.push(parseInt(document.getElementById("2super2").value)),document.getElementById("2super3").checked&&c.push(parseInt(document.getElementById("2super3").value)),document.getElementById("2super4").checked&&n.push(parseInt(document.getElementById("2super4").value)),document.getElementById("2super5").checked&&n.push(parseInt(document.getElementById("2super5").value)),document.getElementById("2super6").checked&&n.push(parseInt(document.getElementById("2super6").value)),document.getElementById("2super7").checked&&n.push(parseInt(document.getElementById("2super7").value)),document.getElementById("2super8").checked&&n.push(parseInt(document.getElementById("2super8").value)),document.getElementById("2super9").checked&&n.push(parseInt(document.getElementById("2super9").value)),document.getElementById("2charm1").checked&&o.push(parseInt(document.getElementById("2charm1").value)),document.getElementById("2charm2").checked&&o.push(parseInt(document.getElementById("2charm2").value)),document.getElementById("2charm3").checked&&o.push(parseInt(document.getElementById("2charm3").value)),document.getElementById("2charm4").checked&&o.push(parseInt(document.getElementById("2charm4").value)),document.getElementById("2charm5").checked&&o.push(parseInt(document.getElementById("2charm5").value)),document.getElementById("2charm6").checked&&o.push(parseInt(document.getElementById("2charm6").value)),document.getElementById("2charm7").checked&&o.push(parseInt(document.getElementById("2charm7").value)),document.getElementById("2charm8").checked&&o.push(parseInt(document.getElementById("2charm8").value)),document.getElementById("2charm9").checked&&o.push(parseInt(document.getElementById("2charm9").value)),document.getElementById("2charm10").checked&&d.push(parseInt(document.getElementById("2charm10").value)),document.getElementById("2charm11").checked&&d.push(parseInt(document.getElementById("2charm11").value)),document.getElementById("2charm12").checked&&d.push(parseInt(document.getElementById("2charm12").value)),document.getElementById("2charm13").checked&&d.push(parseInt(document.getElementById("2charm13").value)),savedat.inventories.playerOne._weapons=t,savedat.inventories.playerOne._supers=n,savedat.inventories.playerOne._charms=d,savedat.inventories.playerTwo._weapons=a,savedat.inventories.playerTwo._supers=c,savedat.inventories.playerTwo._charms=o,savedat.coinManager.LevelsAndCoins.forEach(function(e){"5"==document.getElementById(`${e.level}money`).value?(e.Coin1Collected=!0,e.Coin2Collected=!0,e.Coin3Collected=!0,e.Coin4Collected=!0,e.Coin5Collected=!0):"4"==document.getElementById(`${e.level}money`).value?(e.Coin1Collected=!0,e.Coin2Collected=!0,e.Coin3Collected=!0,e.Coin4Collected=!0,e.Coin5Collected=!1):"3"==document.getElementById(`${e.level}money`).value?(e.Coin1Collected=!0,e.Coin2Collected=!0,e.Coin3Collected=!0,e.Coin4Collected=!1,e.Coin5Collected=!1):"2"==document.getElementById(`${e.level}money`).value?(e.Coin1Collected=!0,e.Coin2Collected=!0,e.Coin3Collected=!1,e.Coin4Collected=!1,e.Coin5Collected=!1):"1"==document.getElementById(`${e.level}money`).value?(e.Coin1Collected=!0,e.Coin2Collected=!1,e.Coin3Collected=!1,e.Coin4Collected=!1,e.Coin5Collected=!1):"0"==document.getElementById(`${e.level}money`).value&&(e.Coin1Collected=!1,e.Coin2Collected=!1,e.Coin3Collected=!1,e.Coin4Collected=!1,e.Coin5Collected=!1)}),savedat.levelDataManager.levelObjects.forEach(function(e){0==parseFloat(document.getElementById(`${e.levelID}time`).value.replace(/,/g,"."))?e.bestTime=3.4028234663852886e38:e.bestTime=parseFloat(document.getElementById(`${e.levelID}time`).value.replace(/,/g,".")),e.levelID=e.levelID,e.completed=document.getElementById(`${e.levelID}completed`).checked,e.completedAsChaliceP1=document.getElementById(`${e.levelID}completedAsChaliceP1`).checked,e.completedAsChaliceP2=document.getElementById(`${e.levelID}completedAsChaliceP2`).checked,e.curseCharmP1=document.getElementById(`${e.levelID}curseCharmP1`).checked,e.curseCharmP2=document.getElementById(`${e.levelID}curseCharmP2`).checked,e.played=document.getElementById(`${e.levelID}played`).checked,e.grade=parseInt(document.getElementById(`${e.levelID}grade`).value),e.difficultyBeaten=parseInt(document.getElementById(`${e.levelID}diff`).value),e.bgmPlayListCurrent=e.bgmPlayListCurrent}),savedat.mapDataManager.currentMap=parseInt(document.getElementById("currentMap").value),savedat.mapDataManager.mapData.forEach(function(e){e.mapId=e.mapId,e.sessionStarted=document.getElementById(`${e.mapId}sessionStarted`).checked,e.hasVisitedDieHouse=document.getElementById(`${e.mapId}hasVisitedDieHouse`).checked,e.hasKingDiceDisappeared=document.getElementById(`${e.mapId}hasKingDiceDisappeared`).checked,e.playerOnePosition.x=parseInt(document.getElementById(`${e.mapId}playerOnePositionX`).value),e.playerOnePosition.y=parseInt(document.getElementById(`${e.mapId}playerOnePositionY`).value),e.playerOnePosition.z=parseInt(document.getElementById(`${e.mapId}playerOnePositionZ`).value),e.playerTwoPosition.x=parseInt(document.getElementById(`${e.mapId}playerTwoPositionX`).value),e.playerTwoPosition.y=parseInt(document.getElementById(`${e.mapId}playerTwoPositionY`).value),e.playerTwoPosition.z=parseInt(document.getElementById(`${e.mapId}playerTwoPositionZ`).value)});var l=savedat,m=l,u=new Blob([JSON.stringify(m)],{type:"json"}),p=filenameSave;if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(u,p);else{var r=document.createElement("a"),s=URL.createObjectURL(u);r.href=s,r.download=p,document.body.appendChild(r),r.click(),setTimeout(function(){document.body.removeChild(r),window.URL.revokeObjectURL(s)},0)}}catch(e){alert("[Error] "+e),console.log("[Error] "+e)}}function updateJson(){try{for(var e in savedat=savebefore[0],savebefore[0])"curseCharmPuzzleOrder"!=e&&"usedChessBossZones"!=e&&"loadouts"!=e&&"inventories"!=e&&"coinManager"!=e&&"mapDataManager"!=e&&"levelDataManager"!=e&&"statictics"!=e&&"dialoguerState"!=e&&(Number.isInteger(savebefore[0][e])?savedat[e]=parseInt(document.getElementById(e).value):savedat[e]=document.getElementById(e).checked);savedat.loadouts.playerOne.primaryWeapon=parseInt(document.getElementById("primaryWeapon1").value),savedat.loadouts.playerOne.secondaryWeapon=parseInt(document.getElementById("secondaryWeapon1").value),savedat.loadouts.playerOne.super=parseInt(document.getElementById("super1").value),savedat.loadouts.playerOne.charm=parseInt(document.getElementById("charm1").value),savedat.statictics.playerOne.numDeaths=parseInt(document.getElementById("deaths1").value),savedat.statictics.playerOne.numParriesInRow=parseInt(document.getElementById("parries1").value),savedat.inventories.playerOne.money=parseInt(document.getElementById("money1").value),savedat.inventories.playerOne.newPurchase=parseInt(document.getElementById("newPurchase1").value),savedat.loadouts.playerTwo.primaryWeapon=parseInt(document.getElementById("primaryWeapon2").value),savedat.loadouts.playerTwo.secondaryWeapon=parseInt(document.getElementById("secondaryWeapon2").value),savedat.loadouts.playerTwo.super=parseInt(document.getElementById("super2").value),savedat.loadouts.playerTwo.charm=parseInt(document.getElementById("charm2").value),savedat.statictics.playerTwo.numDeaths=parseInt(document.getElementById("deaths2").value),savedat.statictics.playerTwo.numParriesInRow=parseInt(document.getElementById("parries2").value),savedat.inventories.playerTwo.money=parseInt(document.getElementById("money2").value),savedat.inventories.playerTwo.newPurchase=parseInt(document.getElementById("newPurchase2").value);var t=[1457006169],n=[],d=[];document.getElementById("1weapon1").checked&&t.push(parseInt(document.getElementById("1weapon1").value)),document.getElementById("1weapon2").checked&&t.push(parseInt(document.getElementById("1weapon2").value)),document.getElementById("1weapon3").checked&&t.push(parseInt(document.getElementById("1weapon3").value)),document.getElementById("1weapon4").checked&&t.push(parseInt(document.getElementById("1weapon4").value)),document.getElementById("1weapon5").checked&&t.push(parseInt(document.getElementById("1weapon5").value)),document.getElementById("1weapon6").checked&&t.push(parseInt(document.getElementById("1weapon6").value)),document.getElementById("1weapon7").checked&&t.push(parseInt(document.getElementById("1weapon7").value)),document.getElementById("1weapon8").checked&&t.push(parseInt(document.getElementById("1weapon8").value)),document.getElementById("1weapon9").checked&&t.push(parseInt(document.getElementById("1weapon9").value)),document.getElementById("1weapon10").checked&&t.push(parseInt(document.getElementById("1weapon10").value)),document.getElementById("1weapon11").checked&&t.push(parseInt(document.getElementById("1weapon11").value)),document.getElementById("1weapon12").checked&&t.push(parseInt(document.getElementById("1weapon12").value)),document.getElementById("1weapon13").checked&&t.push(parseInt(document.getElementById("1weapon13").value)),document.getElementById("1weapon14").checked&&t.push(parseInt(document.getElementById("1weapon14").value)),document.getElementById("1weapon15").checked&&t.push(parseInt(document.getElementById("1weapon15").value)),document.getElementById("1weapon16").checked&&t.push(parseInt(document.getElementById("1weapon16").value)),document.getElementById("1weapon17").checked&&t.push(parseInt(document.getElementById("1weapon17").value)),document.getElementById("1weapon18").checked&&t.push(parseInt(document.getElementById("1weapon18").value)),document.getElementById("1weapon19").checked&&t.push(parseInt(document.getElementById("1weapon19").value)),document.getElementById("1weapon20").checked&&t.push(parseInt(document.getElementById("1weapon20").value)),document.getElementById("1weapon21").checked&&t.push(parseInt(document.getElementById("1weapon21").value)),document.getElementById("1weapon22").checked&&t.push(parseInt(document.getElementById("1weapon22").value)),document.getElementById("1weapon23").checked&&t.push(parseInt(document.getElementById("1weapon23").value)),document.getElementById("1super1").checked&&n.push(parseInt(document.getElementById("1super1").value)),document.getElementById("1super2").checked&&n.push(parseInt(document.getElementById("1super2").value)),document.getElementById("1super3").checked&&n.push(parseInt(document.getElementById("1super3").value)),document.getElementById("1super4").checked&&n.push(parseInt(document.getElementById("1super4").value)),document.getElementById("1super5").checked&&n.push(parseInt(document.getElementById("1super5").value)),document.getElementById("1super6").checked&&n.push(parseInt(document.getElementById("1super6").value)),document.getElementById("1super7").checked&&n.push(parseInt(document.getElementById("1super7").value)),document.getElementById("1super8").checked&&n.push(parseInt(document.getElementById("1super8").value)),document.getElementById("1super9").checked&&n.push(parseInt(document.getElementById("1super9").value)),document.getElementById("1charm1").checked&&d.push(parseInt(document.getElementById("1charm1").value)),document.getElementById("1charm2").checked&&d.push(parseInt(document.getElementById("1charm2").value)),document.getElementById("1charm3").checked&&d.push(parseInt(document.getElementById("1charm3").value)),document.getElementById("1charm4").checked&&d.push(parseInt(document.getElementById("1charm4").value)),document.getElementById("1charm5").checked&&d.push(parseInt(document.getElementById("1charm5").value)),document.getElementById("1charm6").checked&&d.push(parseInt(document.getElementById("1charm6").value)),document.getElementById("1charm7").checked&&d.push(parseInt(document.getElementById("1charm7").value)),document.getElementById("1charm8").checked&&d.push(parseInt(document.getElementById("1charm8").value)),document.getElementById("1charm9").checked&&d.push(parseInt(document.getElementById("1charm9").value)),document.getElementById("1charm10").checked&&d.push(parseInt(document.getElementById("1charm10").value)),document.getElementById("1charm11").checked&&d.push(parseInt(document.getElementById("1charm11").value)),document.getElementById("1charm12").checked&&d.push(parseInt(document.getElementById("1charm12").value)),document.getElementById("1charm13").checked&&d.push(parseInt(document.getElementById("1charm13").value));var a=[1457006169],c=[],o=[];document.getElementById("2weapon1").checked&&a.push(parseInt(document.getElementById("2weapon1").value)),document.getElementById("2weapon2").checked&&a.push(parseInt(document.getElementById("2weapon2").value)),document.getElementById("2weapon3").checked&&a.push(parseInt(document.getElementById("2weapon3").value)),document.getElementById("2weapon4").checked&&a.push(parseInt(document.getElementById("2weapon4").value)),document.getElementById("2weapon5").checked&&a.push(parseInt(document.getElementById("2weapon5").value)),document.getElementById("2weapon6").checked&&a.push(parseInt(document.getElementById("2weapon6").value)),document.getElementById("2weapon7").checked&&a.push(parseInt(document.getElementById("2weapon7").value)),document.getElementById("2weapon8").checked&&a.push(parseInt(document.getElementById("2weapon8").value)),document.getElementById("2weapon9").checked&&a.push(parseInt(document.getElementById("2weapon9").value)),document.getElementById("2weapon11").checked&&a.push(parseInt(document.getElementById("2weapon11").value)),document.getElementById("2weapon12").checked&&t.push(parseInt(document.getElementById("2weapon12").value)),document.getElementById("2weapon13").checked&&t.push(parseInt(document.getElementById("2weapon13").value)),document.getElementById("2weapon14").checked&&t.push(parseInt(document.getElementById("2weapon14").value)),document.getElementById("2weapon15").checked&&t.push(parseInt(document.getElementById("2weapon15").value)),document.getElementById("2weapon16").checked&&t.push(parseInt(document.getElementById("2weapon16").value)),document.getElementById("2weapon17").checked&&t.push(parseInt(document.getElementById("2weapon17").value)),document.getElementById("2weapon18").checked&&t.push(parseInt(document.getElementById("2weapon18").value)),document.getElementById("2weapon19").checked&&t.push(parseInt(document.getElementById("2weapon19").value)),document.getElementById("2weapon20").checked&&t.push(parseInt(document.getElementById("2weapon20").value)),document.getElementById("2weapon21").checked&&t.push(parseInt(document.getElementById("2weapon21").value)),document.getElementById("2weapon22").checked&&t.push(parseInt(document.getElementById("2weapon22").value)),document.getElementById("2weapon23").checked&&t.push(parseInt(document.getElementById("2weapon23").value)),document.getElementById("2super1").checked&&c.push(parseInt(document.getElementById("2super1").value)),document.getElementById("2super2").checked&&c.push(parseInt(document.getElementById("2super2").value)),document.getElementById("2super3").checked&&c.push(parseInt(document.getElementById("2super3").value)),document.getElementById("2super4").checked&&n.push(parseInt(document.getElementById("2super4").value)),document.getElementById("2super5").checked&&n.push(parseInt(document.getElementById("2super5").value)),document.getElementById("2super6").checked&&n.push(parseInt(document.getElementById("2super6").value)),document.getElementById("2super7").checked&&n.push(parseInt(document.getElementById("2super7").value)),document.getElementById("2super8").checked&&n.push(parseInt(document.getElementById("2super8").value)),document.getElementById("2super9").checked&&n.push(parseInt(document.getElementById("2super9").value)),document.getElementById("2charm1").checked&&o.push(parseInt(document.getElementById("2charm1").value)),document.getElementById("2charm2").checked&&o.push(parseInt(document.getElementById("2charm2").value)),document.getElementById("2charm3").checked&&o.push(parseInt(document.getElementById("2charm3").value)),document.getElementById("2charm4").checked&&o.push(parseInt(document.getElementById("2charm4").value)),document.getElementById("2charm5").checked&&o.push(parseInt(document.getElementById("2charm5").value)),document.getElementById("2charm6").checked&&o.push(parseInt(document.getElementById("2charm6").value)),document.getElementById("2charm7").checked&&o.push(parseInt(document.getElementById("2charm7").value)),document.getElementById("2charm8").checked&&o.push(parseInt(document.getElementById("2charm8").value)),document.getElementById("2charm9").checked&&o.push(parseInt(document.getElementById("2charm9").value)),document.getElementById("2charm10").checked&&d.push(parseInt(document.getElementById("2charm10").value)),document.getElementById("2charm11").checked&&d.push(parseInt(document.getElementById("2charm11").value)),document.getElementById("2charm12").checked&&d.push(parseInt(document.getElementById("2charm12").value)),document.getElementById("2charm13").checked&&d.push(parseInt(document.getElementById("2charm13").value)),savedat.inventories.playerOne._weapons=t,savedat.inventories.playerOne._supers=n,savedat.inventories.playerOne._charms=d,savedat.inventories.playerTwo._weapons=a,savedat.inventories.playerTwo._supers=c,savedat.inventories.playerTwo._charms=o,savedat.coinManager.LevelsAndCoins.forEach(function(e){"5"==document.getElementById(`${e.level}money`).value?(e.Coin1Collected=!0,e.Coin2Collected=!0,e.Coin3Collected=!0,e.Coin4Collected=!0,e.Coin5Collected=!0):"4"==document.getElementById(`${e.level}money`).value?(e.Coin1Collected=!0,e.Coin2Collected=!0,e.Coin3Collected=!0,e.Coin4Collected=!0,e.Coin5Collected=!1):"3"==document.getElementById(`${e.level}money`).value?(e.Coin1Collected=!0,e.Coin2Collected=!0,e.Coin3Collected=!0,e.Coin4Collected=!1,e.Coin5Collected=!1):"2"==document.getElementById(`${e.level}money`).value?(e.Coin1Collected=!0,e.Coin2Collected=!0,e.Coin3Collected=!1,e.Coin4Collected=!1,e.Coin5Collected=!1):"1"==document.getElementById(`${e.level}money`).value?(e.Coin1Collected=!0,e.Coin2Collected=!1,e.Coin3Collected=!1,e.Coin4Collected=!1,e.Coin5Collected=!1):"0"==document.getElementById(`${e.level}money`).value&&(e.Coin1Collected=!1,e.Coin2Collected=!1,e.Coin3Collected=!1,e.Coin4Collected=!1,e.Coin5Collected=!1)}),savedat.levelDataManager.levelObjects.forEach(function(e){0==parseFloat(document.getElementById(`${e.levelID}time`).value.replace(/,/g,"."))?e.bestTime=3.4028234663852886e38:e.bestTime=parseFloat(document.getElementById(`${e.levelID}time`).value.replace(/,/g,".")),e.levelID=e.levelID,e.completed=document.getElementById(`${e.levelID}completed`).checked,e.completedAsChaliceP1=document.getElementById(`${e.levelID}completedAsChaliceP1`).checked,e.completedAsChaliceP2=document.getElementById(`${e.levelID}completedAsChaliceP2`).checked,e.curseCharmP1=document.getElementById(`${e.levelID}curseCharmP1`).checked,e.curseCharmP2=document.getElementById(`${e.levelID}curseCharmP2`).checked,e.played=document.getElementById(`${e.levelID}played`).checked,e.grade=parseInt(document.getElementById(`${e.levelID}grade`).value),e.difficultyBeaten=parseInt(document.getElementById(`${e.levelID}diff`).value),e.bgmPlayListCurrent=e.bgmPlayListCurrent}),savedat.mapDataManager.currentMap=parseInt(document.getElementById("currentMap").value),savedat.mapDataManager.mapData.forEach(function(e){e.mapId=e.mapId,e.sessionStarted=document.getElementById(`${e.mapId}sessionStarted`).checked,e.hasVisitedDieHouse=document.getElementById(`${e.mapId}hasVisitedDieHouse`).checked,e.hasKingDiceDisappeared=document.getElementById(`${e.mapId}hasKingDiceDisappeared`).checked,e.playerOnePosition.x=parseInt(document.getElementById(`${e.mapId}playerOnePositionX`).value),e.playerOnePosition.y=parseInt(document.getElementById(`${e.mapId}playerOnePositionY`).value),e.playerOnePosition.z=parseInt(document.getElementById(`${e.mapId}playerOnePositionZ`).value),e.playerTwoPosition.x=parseInt(document.getElementById(`${e.mapId}playerTwoPositionX`).value),e.playerTwoPosition.y=parseInt(document.getElementById(`${e.mapId}playerTwoPositionY`).value),e.playerTwoPosition.z=parseInt(document.getElementById(`${e.mapId}playerTwoPositionZ`).value)});var l=savedat,m=document.getElementById("file-content");m.textContent=JSON.stringify(l,null,"\t")}catch(e){alert("[Error] "+e),console.log("[Error] "+e)}}var filenameSave="";const levels={0:"Обучение",1:"Тест",2:"Капитан Дорогобород",3:"BAT",5:"Призрачный экспресс",6:"Овощебанда",7:"Рибби и Квак",8:"AirshipJelly",1428495827:"Уолли Щебетун",1429603775:"FlyingTest",1429976377:"Королева Медобрюшко",1430652919:"Ганс Грызун",1432722919:"Грим Огнепых",1446558823:"Кайла Морина",1449745424:"Хильда Берг",1450266910:"Грозная Гвоздика",1450863107:"Тянук де ля Гранд",1451300935:"Баронесса фон Бон-Бон",1452935394:"Робот доктора Кашля",1456125457:"Клоун Беппи",1456740288:"Салли Примадонна",1458062114:"Костяшки (В Казино)",1458289179:"DicePalaceCard",1458336090:"Ва-Банк (В Казино)",1458551456:"Мистер Пыхль (В Казино)",1458559869:"DicePalaceTest",1458719430:"Три друга ",1459105708:"Пирулетка (В Казино)",1459338579:"AirshipStork",1459444983:"Однорукий Бандит (В Казино)",1459489001:"Фанхаус Фразл",1459928905:"Сим-Салабим (В Казино)",1459950766:"Проклятый цирк",1460200177:"Джинн Великолепный",1463124738:"DicePalaceLight",1463479514:"Понь в кальто (В Казино)",1464322003:"Диндон (В Казино)",1464969490:"1-1: Лесные безумцы",1464969491:"1-2: Проблемы в верхах",1464969492:"3-1: Опасные опоры",1464969493:"3-2: На самом краю",1465296077:"Шестигранный Король",1466688317:"Дьявол",1468483834:"Счастливчик (В Казино)",1469187579:"Лунар Уильямс",1481199742:"Мавзолей",1484633053:"Дом",1495090481:"Смертельный дом",1496818712:"2-2: Смешная суматоха",1499704951:"2-1: Ярмарочная лихорадка",1504847973:"ЧЕРТЕЖ АЭРОПЛАНА",1580294079:"Рецепт для Золотой Чаши",1530096313:"Бурена Кольт",1511943573:"Воющие асы",1526556188:"Шахматный слон",1557479427:"ChessBOldA",1571650861:"ChessBOldB",1624358789:"Шахматный замок",1562579243:"Король шахмат",1560339521:"Шахматный рыцарь",1562078899:"Шахматные пешки",1561124831:"Королева шахмат",1560855325:"Шахматная ладья",1616405510:"Кладбище",1566994171:"Кухня",1523429320:"Великан Мрачногор",1518081307:"Контра-банда",1573044456:"Шеф-повар Солонкин",1527591209:"Мортимер Хладовей",1553597811:"Башня силы"},maps={4:"Чернильный остров II",5:"Чернильный остров III",68:"Чернильный остров IV"};var savebefore=[];try{document.getElementById("file-input").addEventListener("change",readSingleFile,!1)}catch(e){alert("[Error] "+e),console.log("[Error] "+e)}